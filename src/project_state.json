{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "New project",
  "architectural_notes": [
    "Replace/remove id.ai-based authentication; use an internal/custom account system instead"
  ],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-remove-internet-identity-id-ai-as-the-authentication-mechanism-and-implement-a-custom-canister-managed-account-system-that-supports-account-registration-and-login-using-app-managed-credentials-e-g-username-email-password-without-relying-on-internet-identity-or-any-external-identity-provider",
      "title": "Remove Internet Identity (id.ai) as the authentication mechanism and implement a custom, canister-managed account system that supports account registration and login using app-managed credentials (e.g., username/email + password), without relying on Internet Identity or any external identity provider.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-current-frontend-authentication-wiring-which-depends-on-useinternetidentity-with-a-new-custom-auth-provider-hook-that-manages-session-tokens-and-exposes-login-logout-register-and-authstatus-for-the-ui",
      "title": "Replace the current frontend authentication wiring (which depends on `useInternetIdentity`) with a new custom Auth provider/hook that manages session tokens and exposes `login`, `logout`, `register`, and `authStatus` for the UI.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-keep-immutable-frontend-hook-files-unmodified-by-introducing-new-auth-session-hooks-in-new-files-and-updating-only-editable-app-code-to-use-them",
      "title": "Keep immutable frontend hook files unmodified by introducing new auth/session hooks in new files and updating only editable app code to use them.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-update-user-facing-authentication-ui-copy-to-reflect-the-new-account-system-no-references-to-internet-identity-and-apply-a-consistent-coherent-visual-theme-to-the-auth-screens-and-related-auth-ui-states",
      "title": "Update user-facing authentication UI copy to reflect the new account system (no references to Internet Identity), and apply a consistent, coherent visual theme to the auth screens and related auth UI states.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Redo the account system to not use id.ai; implement an internal/custom account system instead",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Update the backend (single Motoko actor) to support custom accounts and sessions, including secure password storage (hashed + salted) and session issuance/validation for all authenticated actions.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Refactor authorization in `backend/main.mo` so that all user-protected operations currently gated by `AccessControl.hasPermission(accessControlState, caller, #user)` work with the new custom account/session system (i.e., no longer require Internet Identity-derived principals for normal user access).",
      "reqIds": [
        "REQ-3"
      ],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Update all frontend React Query data hooks/mutations that call authenticated backend methods (see `frontend/src/hooks/useQueries.ts`) to include/attach the new session token so authenticated operations continue to work end-to-end.",
      "reqIds": [
        "REQ-5"
      ],
      "status": "pending"
    }
  ],
  "projectName": "Roles Admin",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}