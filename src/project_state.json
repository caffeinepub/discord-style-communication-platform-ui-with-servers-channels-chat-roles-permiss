{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Project includes user registration with role assignment; fix backend so sign-up assigns a default role without requiring admin privileges.",
  "architectural_notes": [
    "Registration flow must not call admin-protected role assignment; new users should receive a default role without admin checks."
  ],
  "known_issues": [
    "Sign-up fails with error: \"Unauthorized: Only admins can assign user roles\" due to registration calling admin-only role assignment."
  ],
  "isFixRequest": true,
  "existing_features": [],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Fix sign-up: automatically assign a default user role during registration without requiring admin permissions",
      "reqIds": [],
      "status": "in_progress"
    },
    {
      "id": "AR-2",
      "summary": "Update backend registration so that every newly registered account is automatically assigned the default \"user\" role without requiring the caller to be an admin, ensuring sign-up no longer fails with \"Unauthorized: Only admins can assign user roles\".",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Ensure the backend \"register\" method never traps due to role assignment during sign-up; if role assignment fails for any reason, the method must return RegistrationResult.#error with an appropriate RegistrationError instead of trapping.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    }
  ],
  "projectName": "Caffeine Chat",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}