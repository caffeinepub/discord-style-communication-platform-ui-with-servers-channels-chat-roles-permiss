{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "New project",
  "architectural_notes": [],
  "known_issues": [
    "Registration not fully implemented; backend returns no session data after registration"
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-ensure-the-deployed-backend-candid-actor-interface-exposes-register-and-validatesession-exactly-as-the-frontend-calls-them-so-the-frontend-can-successfully-invoke-actor-register-payload-and-actor-validatesession-token-without-runtime-errors-or-type-mismatches",
      "title": "Ensure the deployed backend candid/actor interface exposes `register` and `validateSession` exactly as the frontend calls them, so the frontend can successfully invoke `actor.register(payload)` and `actor.validateSession(token)` without runtime errors or type mismatches.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-update-frontend-auth-handling-so-that-a-successful-backend-registration-response-always-results-in-a-persisted-session-localstorage-and-an-authenticated-ui-state-and-a-null-invalid-response-results-in-a-clear-english-error-message-without-leaving-the-app-stuck-in-a-loading-state",
      "title": "Update frontend auth handling so that a successful backend registration response always results in a persisted session (localStorage) and an authenticated UI state, and a null/invalid response results in a clear English error message without leaving the app stuck in a loading state.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Implement/finish user registration flow including returning session data from backend",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Implement backend `register(payload : RegisterPayload) : async ?Session` to create a new user account for the caller (guest) and return non-null session data (token, accountId, expiresAt, optional email) on success instead of always returning null.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Implement backend `validateSession(token : Text) : async ?Session` to return non-null session data when the provided token is known and not expired, and return null when the token is unknown/expired.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    }
  ],
  "projectName": "Caffeine Chat",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}